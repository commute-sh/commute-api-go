language: go
go:
- 1.8.1
script:
- CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o main .
services:
- docker
notifications:
  slack:
    secure: efRXLuRRc231GlETfsQBqSFclpbn/JR6qpLgi9IuJyquPdTkg4YXFYQKfWpXCmrb1B2nK2II9iEzFVoxl2muaBIbl8a4nyzGiuOcdhuSRCZdzyXtp+gubjuOumbz5Vwq8i7tR1vlk+tMVN5Q0Lb3iebQaSENeLwlbHknpHjLBqEfnODlpC9rFM4KD/NNbXIQJVfh3gPn2CBsgN3hF+wzDmAW5BWDWWPHI84GJgPR2qX9hsbSGmfiyTsxucI41JOrFj+q5LKFOXGfvKn2W+83SzuW+LLkt4BWObc//2buNWy55VmqyjihqPipj0CcNMV+dUoAzILHpg6oLut4JhIwfhDikNbLbUuSFpPPRCsOgNnnoXghhu/UnJ70OWqKd80Wwk8PT/At8T9y2dasAgvhpjIY/FRxcp2WTdBTsZVfFq5Vji5ZY+vgh8zlKGWAjRErYt4bwIjIminn8kvZ+QJoITQGxk6t0sxF7F6fGDQIrXideBSpslOr5nctcbLcL3drYYiFrDGt9RGYW5jSrw322chYQp39OMj44PdlIy32I8lMJbhhY8LdsPr1m8bBTRJdGPByml0ZTTzvadJI8BO3s7NVqFGZDaf3M6mblqSGkorYLf/EaYNwQ7IDn6ctPbM6xLaYpYklaJpV6aY0pBQ16KNIn0LAVbsCDMutL6ylMuY=
after_success:
- docker login --email=$DOCKER_HUB_EMAIL --username=$DOCKER_HUB_USERNAME --password=$DOCKER_HUB_PASSWORD
- export TAG=`if [ "$TRAVIS_TAG" == "master" ]; then echo "latest"; else echo $TRAVIS_BRANCH
  ; fi`
- docker build -f Dockerfile -t $DOCKER_IMAGE_NAME .
- if [ ! -z "$TRAVIS_TAG" ]; then docker tag $DOCKER_IMAGE_NAME:latest $DOCKER_IMAGE_NAME:$TRAVIS_TAG;
  fi && docker push $DOCKER_IMAGE_NAME
env:
  global:
  - secure: iQsqJC5ZizxRsntIxsjX3iaN+7MJObEuhCfNHqUu8eovwR4aFGOQ25Dy+LievPBGiQCF3c7k+hbhyqFngcXhKC86S11MyuRh/lG/x/Z9pmqYMbtW595N1msuTPJkw7PnOExpjP7VvnhyUpDl3qBKa+a9ZzaRS04uvO7coJq/qI9nbsmlUWv89smHHfUMby2xwM9dTOkRUfNlVcwRtGZHdzk8QYdTblBZ2V6C/gxcSJ0lPGE37kD4mVr+2CJUIz75qNtE3DizlOgBSkMOJModvmjqowKs4O8qhmMfnSgwaOirVNf0hl8yqBETlfikw3Dp1874S0Dpz/79YT7aBI8nUod2s87o0pJ7mL/m64+48zTsPNjBjF6YGGTr0zjWfBGTW3SbVBBzGfE5xl9l4XgKO/I7XK+YfJL/4f4l2krBzqO1yU/UdowoURUJNqmeeAaMID8FgRWduUc4PLgLF1oEU/ouz/T5MFFq89cOVuNKvPclr0gxw48uZ6L3nzQT8crnHmFRIMXcVWF+Nl4SZf732jC087Tf8XwXUrwL7LkGL/WS8bJKpEPvBu1CBpTckCiXSp0GMNJzyHrnA8thxFga0QAqOe6GDZGIRWV2BzeUps6VXNg9tplOoUU9UTyTkKJZ2E3a+7LuRssutNvwXB1W581VSsg8SX5zaaiWD3ZDd1c=
  - secure: O540vBGdzMkZmjC2Ldz4gWagV0xXAycwL0ZN7RaymuqV1pvKIeBTAZ7CK+sXaVw+EYhytJwQeBGUu4FhFABdg0pquQ+r4GKpwaWLVZh0yi8OtOB4bT8fIgDbmyK3s8t0PGO+0nF7ztE2dqeNdEyS2PAjCurwm51FmO5iXLffJFQS1dW090Ryp8FTAorBBJ8LDKAUL2R7od5COi4KJAicnKYk4TR8XlrBxDFTUufK038//iSMA8/kixHWsjiYhHTmtppYOx/8UM3nC53T6X8GJYjl3YBjON067iEN7lQC5yKLmldhTHFlBeAjmR3Jza8Fo63UwwouowgTSmM/HCPfLqhu1X9ibQHq1tAEaCUzXtUMADtNINNSXmI1Q9HvyBM66CwHiToWZM84SqXPxTfGsJ9qOPafj88EDJs1DTX4Oe7p+AnCWzrpDaXUzoGKnoutu1wP3UFIFkbrXdVKiNitUtnHbIWfav9zglRvpIduBZBbVTrqyhUxU+/4OtiUMOYfCdsK1PjsUYni4gColgozS3o1FfA1Z0lQT32hGJsLo83u6rcVMx297aIKIMc+aiDwPykfMJGoMJj79CV+c5KvR+5IVQgZgR7BYl11+hVrDckTIryCJ6KsvdAj2jCFcT/qzfxKPKfb0oNEtNCQD/7t0rJ/nQRo48RnWhJid2yzb6U=
  - secure: p0O3nzcd7enwR3IQG94Fb4pgSVuaescwRT1asjpTWDA7KQTe/pSXVYwEd6FV+Tv4+SNiRkeeTXwxTzIsyytgsuLGotCOiFS5uGZpw93nU4ZMN7jIbZaq74fn/Ge8nJMtf/Nq06LV9MQZDsqUMijLNTZ8z/uzVjwavq+QRPFo03khw1i11adJj/UwKmZcQEUGGdXBmnb9zZFMhX7+Zx4F3vetbQblD+A1mbK0868QSxYMcu6PJGFNlDhJr6x8uWs1GBYh+9LArZHFfZVRro9TSolno/ytJws+UfM9BD75+m5smkEMZvRfhgDvgGEEiY1hJJpXXqcGlWgvHqeJbmHQuNJubENcVsgByCKBJts1gGX8vzLXbnIP0hy/A1rKSRRr2LO8Nxgl7vTpc5/VBm3T/MBmB/4ZJIfL9/6wuAL3TY5T1910lt3ceKk1noiQZMRGpsAMAEg7yh7At9pb++GpLqdTg++4VllH+NelyUdW1wJYIhUSmAa6eOrMSpUwYDNtx2S4E34KVtpunUHiZOurHApJMn0ubPDK1SBKUCUkcSrl2TNYB0OJGEnPbNI+BxRC4nCz+fOAuSDY30nBILgyUwpXo00NFeUR1BGGCOzxYz08y7ezMfCQ/oRd/7SYQJsXzuhjDeHMsH4o7sRr8CN5a7Pn/7MHKJrz2RfzCDpYASU=
  - secure: LK26Ry4ZhAcsUPms779SGOwJ/KKheMXSMDZyzw0GtKym+hyWIPjtz2JmKEYxCi3bLzTd9r8P/wjY5gwmMcgtg1GYZnzAH7rO/MIJtnlAkeaSc/eWCAFQQvAOrwLDSNAxqgc7YheONM5BOUSexiGtKQmlhMRuDo9WvHleiH8vYwSknoawGVdafPHV2cUZi+MV92w54yI2DgwbxFOuwDk8I6ejjhxv1LpM7ShPLWzEEvEuUXgEj4UxGtKWg2RRNTEJHrJEKBWTkQonyyPSH/hPf3Gl8EH1KhbbCfK0kMnFkneq3RmPrg/EdjB9RbGQ9KmFXpdBVG7vr0vzuKwGIbMl1lf4nelyap0soYtJksB3jRWbIAzFpFjjogLF5PlDfR9WsQa6PAGZVzPCrjBryPCxsNxCuNkA0tbyVXGQc8+e00gK1jFSKTO/IeavjRpyjdOfMGClq6aecQcYj+dQCc80JLx85MqpUGaLiJHRnQ/i+8yqDCNbJ5FqodXbgQR6Nac8XdtrClFCWK4ysCCGa8QgEv5ObaA/nDg+oGb4t4viacgrRyoFu/6FBJecggfonJTuWq+chys080gxfqNbUXdBfKLqUzaLwucIHwDJq6jkIx8wkSYPvsHne8aLztYPViGdgdWdKvo+fAU3aNqiYdMpc/iXjKa72VOAXhTOYBksw3A=
